# 가상 메모리
<details>
  <summary>1 32비트 시스템에서 가상 메모리 주소의 길이와 갯수</summary>

  ### 코드
  ```js
  ```
  ### 정답
  ```js
  32비트, 2^32개 (비트가 모두 0인 주소 -> 비트가 모두 1인 주소 카운트)
  ```
</details>

<details>
  <summary>2 32비트 시스템에서 가상 메모리 주소 공간의 크기</summary>

  ### 코드
  ```js
  ```
  ### 정답
  ```js
  4GB

  1KB = 2^10 bytes = 1024 bytes
  1MB = 2^10 KB = 1024 KB
  1GB = 2^10 MB = 1024 MB
  4GB = 2^10 bytes * 2^10 bytes * 2^10 bytes * 2^2
  ```
</details>

<details>
  <summary>3 가상 메모리를 구현할때 필요한 하드웨어</summary>

  ### 코드
  ```js
  ```
  ### 정답
  ```js
  MMU (Memory Management Unit)
  가상 메모리 주소를 물리 메모리 주소로 변환
  ```
</details>

<details>
  <summary>4 가상 메모리 주소의 구성</summary>

  ### 코드
  ```js
  ```
  ### 정답
  ```js
  20비트는 가상 페이지 번호
  12비트는 페이지 오프셋

  예시: 0x00105102
  가상 페이지 번호: 0x00105
  페이지 오프셋: 0x102
  ```
</details>

<details>
  <summary>5 32비트 가상 메모리 주소를 16진수로 나타내기</summary>

  ### 코드
  ```js
  ```
  ### 정답
  ```js
  0x00000000 (8자리)
  16진수로 나타낸경우 한자리당 4 bit
  4 bit * 8자리 = 32 bit
  ```
</details>

<details>
  <summary>6 32비트 시스템에서 가상 메모리 작동 원리</summary>

  ### 코드
  ```js
  ```
  ### 정답
  ```js
  가상 메모리 주소의 20비트를 페이지 번호로 사용하고 이 가상 페이지 번호를 페이지 테이블(TLB)에서 찾는다.
  가상 페이지 번호에 매핑된 물리 페이지 번호와 페이지 오프셋(가상 메모리 주소 12비트)을 합친다. 
  ```
  참고: https://blogs.vmware.com/vsphere/2020/03/how-is-virtual-memory-translated-to-physical-memory.html
</details>

<details>
  <summary>7 페이지 테이블의 각 행을 무엇이라고 부르나요?</summary>

  ### 코드
  ```js
  ```
  ### 정답
  ```js
  PTE (Page Table Entry)
  ```
</details>

<details>
  <summary>8 PTE의 구성요소 아는대로 말씀해주세요</summary>

  ### 코드
  ```js
  ```
  ### 정답
  ```js
  페이지 번호 + 오프셋
  유효 비트: 페이지가 메모리에 있는지 없는지 0, 1 (페이지 디폴트 관련)
  참조 비트: CPU가 페이지를 읽은 적이 있는지 0, 1
  보호 비트: 연산으로부터 페이지 보호 (R W X)
  수정 비트: 페이지가 수정된적이 있는지 없는지 0, 1 (0이라면 메모리에 있는 페이지를 그냥 다른 페이지로 덮어쓰기)
  ```
</details>

<details>
  <summary>9 외부 단편화를 해결하기 위해 나온 메모리 관리 방식 2가지</summary>

  ### 코드
  ```js
  ```
  ### 정답
  ```js
  페이징
  세그멘테이션
  페이징을 주로 사용
  ```
</details>

<details>
  <summary>10 페이징으로 발생하는 문제에 대해 아시는게 있을까요?</summary>

  ### 코드
  ```js
  ```
  ### 정답
  ```js
  내부 단편화: 프로세스 크기가 105MB 인데 페이지 크기가 10MB 일때 페이지 10개를 쓰는데 마지막 페이지의 5MB가 잉여공간
  해결 방법: 페이지 크기를 작게 한다.
  부작용: 메모리 상에 페이지 테이블의 크기가 커진다.
  ```
</details>

<details>
  <summary>11 페이지 테이블이 저장되는 곳은 어디인가요?</summary>

  ### 코드
  ```js
  ```
  ### 정답
  ```js
  물리 메모리
  ```
</details>

<details>
  <summary>12 한 프로세스가 사용하는 프레임들은 불연속적이어도 되나요?</summary>

  ### 코드
  ```js
  ```
  ### 정답
  ```j
  가능합니다.
  꼬리 1) 이유가 무엇인가요?
  가상 메모리에서 프로세스는 연속된 페이지들만 가지고 있기 때문에 가상 메모리를 사용하는 CPU에게는 불연속적인 프레임도 연속적인 페이지로 인식됩니다.
  ```
</details>

<details>
  <summary>13 메모리에 있는 페이지가 보조기억장치로 이동하는 것을 무엇이라 하나요? 메모리로 이동하는 것을 무엇이라 하나요?</summary>

  ### 코드
  ```js
  ```
  ### 정답
  ```js
  페이지 아웃, 페이지 인
  ```
</details>

<details>
  <summary>14 물리 메모리에 각 프로세스마다 연속된 공간에 할당할 경우 발생하는 문제점이 무엇인가요?</summary>

  ### 코드
  ```js
  ```
  ### 정답
  ```js
  외부 단편화가 발생합니다.
  ```
</details>

<details>
  <summary>15 물리 메모리만 사용하는 것의 문제점과 해결 방법에 대해 설명해주세요</summary>

  ### 코드
  ```js
  ```
  ### 정답
  ```js
  물리 메모리에 프로세스들을 연속적으로 할당할 경우 사용하다가 사용하지 않는 프로세스가 생길때 빈공간들이 생깁니다.
  이 빈공간들이 새로 사용하려는 프로세스보다 작은 경우 사용할 수 없어 메모리가 낭비됩니다.
  이 부분을 해결하기 위해 메모리를 같은 크기의 덩어리들로 나눕니다. 그리고 물리 메모리를 불연속적으로 사용할 수 있도록 하기 위해
  CPU에게는 연속된 공간으로 보이도록 가상 메모리를 두고 물리 메모리를 나눈 단위와 같은 크기인 페이지를 둡니다. 물리 메모리에서는 그 단위를 프레임이라고 합니다.
  꼬리 1) 페이지로 나눈 경우에 생기는 문제점은 없나요?
  내부 단편화가 생깁니다.
  꼬리 2) 해결 방법은 없나요?
  페이지 크기를 더 작게 만들면 되는 것으로 알고 있습니다.
  꼬리 3) 그럼 가장 작게 만들면 문제점이 완전히 해결될까요?
  페이지 크기를 너무 작게 만들면 페이지 테이블의 크기가 많이 커지는 문제가 발생하므로 적절한 크기를 사용해야합니다.
  ```
</details>

<details>
  <summary>16 보조 기억장치에 있는 페이지를 물리 메모리로 이동하면 보조 기억 장치에 있는 페이지는 그대로 있나요?</summary>

  ### 코드
  ```js
  ```
  ### 정답
  ```js
  네 그대로 있습니다.
  ```
</details>

<details>
  <summary>17 페이지 폴트에 대해 설명해주세요</summary>

  ### 코드
  ```js
  ```
  ### 정답
  ```js
  CPU가 논리 주소에 접근했는데 PTE의 유효비트가 0인 경우 물리 메모리에 해당 페이지와 연결된 프레임이 없는 것을 말합니다.
  ```
</details>

<details>
  <summary>18 </summary>

  ### 코드
  ```js
  ```
  ### 정답
  ```js
  ```
</details>

<details>
  <summary></summary>

  ### 코드
  ```js
  ```
  ### 정답
  ```js
  ```
</details>

<details>
  <summary></summary>

  ### 코드
  ```js
  ```
  ### 정답
  ```js
  ```
</details>

<details>
  <summary></summary>

  ### 코드
  ```js
  ```
  ### 정답
  ```js
  ```
</details>

<details>
  <summary></summary>

  ### 코드
  ```js
  ```
  ### 정답
  ```js
  ```
</details>

<details>
  <summary></summary>

  ### 코드
  ```js
  ```
  ### 정답
  ```js
  ```
</details>

<details>
  <summary></summary>

  ### 코드
  ```js
  ```
  ### 정답
  ```js
  ```
</details>

<details>
  <summary></summary>

  ### 코드
  ```js
  ```
  ### 정답
  ```js
  ```
</details>
